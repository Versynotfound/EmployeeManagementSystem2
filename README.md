# Employee Management System

企业人力资源管理系统

## 登录

员工管理员界面分流

## 管理员

* 修改密码（前端做了是否输入校验和两次密码输入一致校验）
* 退出登录功能

（管理员不设置头像）

首页（预设未来前端填充公告板和统计图表）

>除了基本的增删改查，以下大多支持多条件（多表）和模糊查询

人事管理

* 公告管理（新增时获取管理员id，使用LocalDateTime获取创建时间和修改时间。根据日期倒序）
* 薪资管理（自动计算总薪资）
* 考勤管理（对状态为非出勤或请假的员工取消当月全勤奖）
* 审批（管理请假审批和离职审批，离职员工状态会改变）
* 培训管理

用户管理

* 用户信息（管理员才能注册新用户。为了代码调试方便两个身份均可注册）如果不设置密码则默认为1234。
* 员工信息（联表查询，关联了用户和部门表）

部门管理（新增时和修改支持对等级为主管的员工进行动态遍历，只有主管等级的用户才能当部门主管）

## 员工

* 修改密码
* 修改个人信息，包括头像上传
* 退出登录
* 查看公告信息
* 查看个人考勤记录
* 提交申请
* 参与培训活动，查看培训计划和成绩

## 一些坑记录

注意版本适配关系，可以解决很多报错

500报错控制台会有输出！

xml文件不能用--注释(虽然这样写会自动变灰)

有ResultMap时记得删除自动创建时出现的ResultType

JS导入文件路径要正确才能正常渲染。移动文件位置直接复制代码会导致路径错误

！尝试做数据回显失败 只能显示0 1等的数字值，虽然我觉得我写得很有道理

！尝试十字叉丝居中对齐失败

！尝试做出箭头排序效果失败

不要重蹈覆辙：获取x类名x为空时检查xml文件selectTotalCountByCondition内部没有注解直接写成员变量名

public Str getxxxStr之前不要瞎定义成员变量！

在 MySQL 中，表名、列名、索引名等标识符是不区分大小写的

问题：头像下拉框处点击无响应 原因：需要详细阅读element ui文档并按文档演示的写代码，不能理所当然使用@click

问题：员工处selectAll时一直获取不到userId。原因：请求是异步的，走getUserId时还没获取到结果，就已经走selectAll了。解决方法：挂载完成后在this.getUserId()里执行this.selectAll

问题：登录时如果username为中文会显示为问号。解决方法：在servlet写数据之前加一句`response.setContentType("text/plain;charset=utf-8");`

问题：trainingPartic前端传回来的id为空值。解决方法：好蠢啊你用的post方式传过来数据却用get的方式接收...

尝试使用vue项目，但教程多是使用框架，前后端联调失败，遂放弃 不使用vue路由而是location.href进行页面跳转

遇到异常有时候清理一下浏览器缓存就好了。

## 其他

数据库连接池Durid

过滤器，未登录直接跳转回登录界面

重复代码抽取成工具类

数据库索引设计

模糊查询，使用concat而不是拼接字符串更好。

密码为高密信息未来甚至要层层加密，这样直接显示不合理。

对多个表进行操作时，使用事务。

#### git

使用git进行版本管理，忽略文件：编译之后产生的target目录，.idea：idea自己的文件，*.iml：idea自己带的一些文件，class：编译后的类，test：测试类还有测试包

#### 数据库

id类型喜欢用bigInt，对应的实体类用Long类型。varchar()括号内的数字大小没有硬性规范，但是有32 64 255这些约定俗成的数字。

明确使用default null可以使表更易于理解

日期`create_time` `update_time`使用datetime

id使用bigint
